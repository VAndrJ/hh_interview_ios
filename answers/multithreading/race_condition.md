## Что такое `состояние гонки`?

[**Вернутся к списку вопросов**](https://github.com/Torlopov-Andrey/hh_interview_ios/blob/master/readme.md)

Состоя́ние го́нки (англ. race condition) — ошибка проектирования многопоточной системы или приложения, при которой работа системы или приложения зависит от того, в каком порядке выполняются части кода. Своё название ошибка получила от похожей ошибки проектирования электронных схем.

`Состояние гонки` — «плавающая» ошибка (гейзенбаг), проявляющаяся в случайные моменты времени и «пропадающая» при попытке её локализовать.

#### Своими словами суть заключается в следующем:
При работе многопоточного кода один поток может зависеть от результатов работы другого. И если мы неправильно запрограммируем код, будет получатся, что
разные потоки выполняются в разное время, и поток зависящий от результатов другого потока будет получать неверные значения.

На практике будет следующее: программа по непонятным причинам будет возвращать неверный результат. Но при попытке отладить - программа будет возвращать верное решение. Это происходит из-за того, что во время отладки, поток успеет выдать результат. Также ошибка может появится в случае с переходом на новое устройство. В старом был более слабый процессор и приложение работало как надо, а на новом устройстве припложение в одном из 1000 случаев не справляется.

Вместо того чтобы правильно раставить "барьеры" (в `GCD`) или зависимости операций (`NSOperationQueue`), разработчики начинают в потоке искусственно ставить торможение, чтобы другие потоки успели докачатся либо как-то иначе извращаются.
