## Что такое `семафор (semafor)`?

[**Вернутся к списку вопросов**](https://github.com/Torlopov-Andrey/hh_interview_ios/blob/master/readme.md)

`Семафо́р` (англ. `semaphore`) — объект, ограничивающий количество потоков, которые могут войти в заданный участок кода.
Определение введено Эдсгером Дейкстрой. Семафоры используются для синхронизации и защиты передачи данных через разделяемую
память, а также для синхронизации работы процессов и потоков.

Проблемы семафоров:
Во-первых, можно написать программу с «утечкой семафора», вызвав `enter()` и забыв вызвать `leave()`. Реже встречаются
ошибки, когда дважды вызывается `leave()`.

Во-вторых, семафоры чреваты взаимной блокировкой потоков. В частности, опасен такой код:

```objective-c
// Поток 1:
semaphore1.enter();
semaphore2.enter();
// ...
semaphore2.leave();
semaphore1.leave();

// Поток 2:
semaphore2.enter();
semaphore1.enter();
// ...
semaphore1.leave();
semaphore2.leave();
```
